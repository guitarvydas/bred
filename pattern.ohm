
Run {

  top = main+
  main = spaces matchLR spaces
  char =  ~space ~literal any

  matchLR =
    | space+ -- atLeastOneSpace
    | patternLR -- pattern
    | "(" matchLR* ")" -- paren
    | "{" matchLR* "}" -- brace
    | "[" matchLR* "]" -- squarebracket
    | "<" matchLR* ">" -- anglebracket
    | "❲" matchLR* "❳" -- namebracket
    | "«" matchLR* "»" -- varbracket
    | "⟨" matchLR* "⟩" -- dtypebracket
    | "⟪" matchLR* "⟫" -- messagebracket
    | "⎨" matchLR* "⎬" -- connectionbracket
    | "⎡" matchLR* "⎤" -- sender
    | "⎣" matchLR* "⎦" -- receiver
    | "[" matchLR* "]" spaces "⇉" spaces "[" matchLR* "]" -- senderreceiver
    | char+ -- char


  bracket =
    | "(" | ")" | "{" | "}" | "[" | "]" | "<" | ">"
    |  "❲" |  "❳" |  " | " | "⟨" |  "⟩" | "⟪" | "⟫"
    | "⎨" | "⎬" | "⎡"| "⎤" | "⎣"| "⎦"

  connector =
    | "⇉"

  item = spaces matchLR spaces

patternLR =  "["  item  item  "]"  "⇉"  "["  item  item  "]" 





literal =  | "["  | item  | item  | "]"  | "⇉"  | "["  | item  | item  | "]"  | bracket | connector
}

